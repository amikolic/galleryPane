!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):a.ScrollSlider=b(jQuery)}(this,function(a){function b(a){return"."+a.replace(/\s/g,".")}function c(a,b){this.initialize.apply(this,arguments)}var d=0,e=a(window);return c.defaults={scrollerSelector:":first-child",animatedElSelector:"ul, ol",itemSelector:"li",slideWidth:.5,arrowWrapClass:"scrollSliderArrows",arrowNextClass:"scrollSliderArrowNext",arrowPrevClass:"scrollSliderArrowPrev",arrowDisabledClass:"scrollSliderArrowDisabled",hasArrowsClass:"scrollSliderHasArrows",touchClass:"scrollSliderTouch",arrowPrevText:"Prev",arrowNextText:"Next",continuous:!1,isTouch:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},a.extend(c.prototype,{initialize:function(b,e){this.$el=a(b),this.ens=".ScrollSlider"+ ++d,this.options=a.extend({},c.defaults,e),this.$scroller=this.$el.find(this.options.scrollerSelector),this.$animatedEl=this.$el.find(this.options.animatedElSelector).eq(0),this.$items=this.$el.find(this.options.itemSelector),this.setup(),this.setupEvents(),console.log(this)},setup:function(){this.animatedElWidth=this.$animatedEl.outerWidth(),this.options.isTouch?this.$scroller.addClass(this.options.touchClass):(this.slideOffset=0,this.context="first",this.elSize=this.$el.outerWidth(),"function"==typeof this.options.slideWidth?this.slideSize=this.options.slideWidth(this):this.slideSize=this.elSize*parseFloat(this.options.slideWidth),this.setupArrows(),this.elPadding=parseInt(this.$el.css("padding-left"),10),this.animate(0))},setupEvents:function(){var a=this;e.on("resize"+this.ens,function(){a.elSize&&a.$el.outerWidth()!==a.elSize&&a.setup()})},slideNext:function(){var a=this.slideOffset+this.slideSize;a+this.elSize>this.animatedElWidth?this.animatedElWidth-this.slideOffset-this.elSize>0?(this.slideOffset=this.animatedElWidth-this.elSize+2*this.elPadding,this.context="last"):this.options.continuous?(this.context="first",this.slideOffset=0):this.context="last":(this.context="inBetween",this.slideOffset=a),this.animate(this.slideOffset).setupArrows()},slidePrev:function(){var a=this.slideOffset-this.slideSize;0>=a?0!==this.slideOffset&&this.slideOffset<=this.elSize?(this.slideOffset=0,this.context="first"):this.options.continuous?(this.slideOffset=this.animatedElWidth-this.elSize+2*this.elPadding,this.context="last"):(this.slideOffset=0,this.context="first"):("last"===this.context?this.slideOffset=this.slideSize*Math.floor((this.animatedElWidth-this.elSize)/this.slideSize):this.slideOffset-=this.slideSize,this.context="inBetween"),this.animate(this.slideOffset).setupArrows()},scrollTo:function(a){var b=this.$items.eq(a),c=b.offset().left-this.$items.eq(0).offset().left,d=c-this.slideOffset;this.options.isTouch?(this.offset=c,this.animate(c)):d+b.outerWidth()>this.elSize?this.slideNext():0>d&&this.slidePrev()},animate:function(a){return this.$scroller.stop().animate({scrollLeft:a},300),this},setupArrows:function(){var c=this,d=this.options;this.$arrows||(this.$arrows=a('<div class="'+this.options.arrowWrapClass+'">                        <button type="button" class="'+this.options.arrowNextClass+'">'+this.options.arrowNextText+'</button>                        <button type="button" class="'+this.options.arrowPrevClass+'">'+this.options.arrowPrevText+"</button>                    </div>").appendTo(this.$el).on("click"+this.ens,"button",function(b){var e=a(b.target);e.hasClass(d.arrowDisabledClass)||(e.hasClass(d.arrowNextClass)?c.slideNext():c.slidePrev())}),this.$arrowNext=this.$arrows.find(b(d.arrowNextClass)),this.$arrowPrev=this.$arrows.find(b(d.arrowPrevClass))),console.log(this.animatedElWidth,this.elSize),this.$el.toggleClass(d.hasArrowsClass,this.animatedElWidth>=this.elSize),this.options.continuous||(this.$arrowNext.toggleClass(d.arrowDisabledClass,"last"===this.context),this.$arrowPrev.toggleClass(d.arrowDisabledClass,"first"===this.context))},destroy:function(){return e.off(this.ens),this.$el.off(this.ens),this.$arrows&&this.$arrows.remove(),this}}),c});