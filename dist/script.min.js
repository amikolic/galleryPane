!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):a.Gallery=b(jQuery)}(this,function(a){function b(c){this.options=a.extend({},b.defaults,c)}return a.extend(b.prototype,{render:function(){return this.$gallery=a('<section id="'+this.options.wrapId+'"></section>'),this.headerTemplate().appendTo(this.$gallery),this.itemsTemplate().appendTo(this.$gallery),this.options.data.length&&(this.thumbsTemplate().appendTo(this.$gallery),this.slider()),this.options.social&&this.socialTemplate().appendTo(this.$gallery),this.events(),this.setPosition(),a("body").append(this.$gallery),this},events:function(){this.$gallery.on("click",".closeButton",this.close.bind(this)),this.$gallery.on("click",".thumbButton",this.toggleThumbs.bind(this)),this.$gallery.on("click",".thumbs .item",this.thumbClick.bind(this)),this.$gallery.on("dblclick",".thumbs .item",this.thumbDblclick.bind(this))},toggleThumbs:function(){this.$gallery.toggleClass("thumbsActive")},thumbClick:function(b){b.preventDefault();var c=a(b.currentTarget).data("order");this.setPosition(c)},thumbDblclick:function(b){b.preventDefault();var c=a(b.currentTarget).data("order");this.toggleThumbs(),this.setPosition(c)},close:function(){this.$gallery.remove()},setPosition:function(b){return console.log(b),"undefined"!=typeof b&&(this.options.position=b),this.$page.text(this.options.position+1),a.each(this.$thumbs,function(){a(this).removeClass("active")}),this.$thumbs[this.options.position].addClass("active"),a.each(this.$items,function(){a(this).removeClass("active")}),this.$items[this.options.position].addClass("active"),this},slider:function(){},headerTemplate:function(){var b=a('<div class="head"><a class="brand">'+this.options.brandText+"</a>"+(this.options.data.length>1?'<span class="page">/'+this.options.data.length+"</span>":"")+(this.options.data.length>1?'<a class="thumbButton '+this.options.thumbsIconClass+'"><span>'+this.options.thumbsText+"</span></a>":"")+'<a class="closeButton '+this.options.closeIconClass+'"><span>'+this.options.closeText+"</span></a></div>");return this.$page=a("<span>"+(this.options.position+1)+"</span>"),b.find(".page").prepend(this.$page),b},thumbsTemplate:function(){var b=a('<div class="thumbs"></div>'),c=a('<div class="wrap"></div>').appendTo(b);return this.$thumbs=[],this.options.data?a(this.options.data).each(function(b,d){this.$thumbs.push(a('<a class="item" data-order="'+b+'"><img src="'+d.thumb+'" alt="'+d.name+'" /></a>')),c.append(this.$thumbs[b])}.bind(this)):c.append("<p>No images found!</p>"),b},itemsTemplate:function(){var b=a('<div class="media"></div>');return this.$items=[],this.options.data?a(this.options.data).each(function(c,d){this.$items.push(a('<div class="item"><img src="'+d.large+'" alt="'+d.name+'" /></div>')),b.append(this.$items[c])}.bind(this)):b.append("<p>No images found!</p>"),b},socialTemplate:function(){var b=a('<div class="social" />');return this.$socials=[],a(this.options.social.content).each(function(c,d){this.$socials.push(a('<a class="'+d.name+"Block "+d.className+' item">'+d.name+"</a>")),b.append(this.$socials[c])}.bind(this)),b}}),b.defaults={wrapId:"galleryModule",thumbsIconClass:"",closeIconClass:"",brandText:"Gallery module",thumbsText:"Show thumbs",closeText:"Close gallery",social:{content:[{name:"facebook",className:""},{name:"twitter",className:""},{name:"gPlus",className:""},{name:"viber",className:""},{name:"mail",className:""}]},data:null,position:0},b});